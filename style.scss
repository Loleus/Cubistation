* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --cube: 10vw;
    --cubeMinus: -10vw;
    --doubleCubeMinus: -20vw;
    --secondRow: 15vw;
    --thirdRow: 30vw;
    --portSize: 40vw;
    @media screen and (orientation: portrait) {
        --cube: 10vh;
        --cubeMinus: -10vh;
        --secondRow: 15vh;
        --thirdRow: 30vh;
        --doubleCubeMinus: -20vh;
        --portSize: 40vh;
    }
}

html {
    width: 100%;
    height: 100%;
}

body {
    overflow: hidden;
    width: 100%;
    height: 100%;
    background-image: conic-gradient(from 90deg at 50% 50%, #474daa 0%, #171e51 51%, #474daa 100%);
}

.root {
    width: 100%;
    height: 100%;
    display: flex;
    perspective: 55rem;

}

.port {
    position: relative;
    transform-style: preserve-3d;
    width: var(--portSize);
    height: var(--portSize);
    margin: auto;
    transform: translateZ(-100px);

    
    .layers {
        position: relative;
        transform-style: preserve-3d;
        width: 100%;
        height: 100%;
        animation: spinXYZ 15s 10s linear infinite;
        
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            transform-style: preserve-3d;
            width: 100%;
            height: 100%;
        
            &__back .cube, &__center .cube, &__front .cube {
                    position: absolute;
                    top: 0;
                    left: 0;
                    transform-style: preserve-3d;
                    width: var(--cube);
                    height: var(--cube);
                    background: none;
        
                    &--00, &--03, &--06 {
                        left: 0;
                    }
        
                    &--01, &--04, &--07 {
                        left: var(--secondRow);
                    }
        
                    &--02, &--05, &--08 {
                        left: var(--thirdRow);
                    }
        
                    &--00, &--01, &--02 {
                        top: 0;
                    }
        
                    &--03, &--04, &--05 {
                        top: var(--secondRow);
                    }
        
                    &--06, &--07, &--08 {
                        top: var(--thirdRow);
                    }
    
                    .X, .Y, .Z {
                        width: var(--cube);
                        height: var(--cube);
                        background: inherit;
                        backface-visibility: visible;
                    }
    
                    .Z {
                        transform: rotateZ(90deg);
                    }
                    
                    .X {
                        transform: translateY(var(--cubeMinus)) rotateX(90deg);
                    }
                    
                    .Y {
                        transform: translateY(var(--doubleCubeMinus)) rotateY(90deg);
                    }
            }
        
            &__back .cube, &__front .cube {
                border: 5px outset rgba(29, 20, 91, 0.486);
                    &--00, &--02, &--06, &--08 {
                        background: rgba(1, 63, 155, 0.571);
                }
    
            }
        
            &__front {
                transform: translateZ(150px);
                animation: spinFront 10s 2s ease-in infinite alternate;
            }
        
            &__back {
                transform: translateZ(-150px);
                animation: spinBack 10s 1s ease-in infinite alternate;
            }
            
            &__center {
                transform: translateZ(0px);
                animation: spinCenter 7s 5s linear infinite;
                border: 2px solid rgba(39, 29, 151, 0.586);
                border-radius: 50%;
                
                .cube {
                    .X, .Y {
                        background: rgba(39, 29, 151, 0.586);
                    }
    
                    &--04 {
                        .X, .Y, .Z {
                            visibility: visible;
                            border-radius: 50%;
                            background: conic-gradient(from 90deg at 50% 50%, #474daa 0%, #171e51 51%, #474daa 100%);
                            animation: pulse 1s 3s ease-in-out infinite alternate;
                        }
                    }
    
                    &--00, &--02, &--06, &--08 {
                        animation: spinCenter 3s 2s ease-out infinite;
                        background: none;
    
                        .X, .Y, .Z {
                            border-radius: 50%;
                            background: rgba(69, 36, 153, 0.486);
                            visibility: visible;
                        }
                    }
                }
            }
        }
    }
    
    @keyframes spinXYZ {
        100% {
            -webkit-transform: rotate3d(1, -2, -1, 1turn);
            transform: rotate3d(1, -2, -1, 1turn);
        }
    }
    
    @keyframes spinCenter {
        100% {
            transform: translateZ(0px) rotateZ(360deg);
        }
    }
    
    @keyframes spinFront {
        100% {
            transform: translateZ(450px) rotateZ(360deg);
        }
    }
    
    @keyframes spinBack {
        100% {
            transform: translateZ(-450px) rotateZ(360deg);
        }
    }
    
    @keyframes pulse {
        100% {
            background: conic-gradient(from 90deg at 50% 50%, #aa4747 0%, #511717 51%, #aa4747 100%);
        }
    }
}
